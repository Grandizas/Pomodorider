@use '../../../_variables.scss' as *;
@use '../../../_functions.scss' as *;

.timer-orb {
    /* Sizing */
    --size: 400px;
    width: var(--size);
    aspect-ratio: 1 / 1;
    border-radius: 50%;
    position: relative;
    overflow: hidden;
    display: grid;
    place-items: center;

    /* Theme-friendly HEX palette (swap later) */
    --glow: #ffffff;
    --glow-opacity: 0.2; // overall strength
    --glow-spread: 46px; // how far it extends outside orb
    --glow-blur: 26px; // softness

    --orb-top: #4b4b4b;
    --orb-mid: #3a3a3a;
    --orb-bottom: #232323;

    --rim: #5a5a5a;

    --liquid-top: #f4f4f4;
    --liquid-mid: #e9e9e9;
    --liquid-bottom: #cfcfcf;

    --text: #f2f2f2;

    /* Main “glass” body */

    /* Outer depth + inner glass */
    box-shadow:
        rgba(0, 0, 0, 0.25) 0 54px 55px,
        rgba(0, 0, 0, 0.12) 0px -12px 30px,
        rgba(0, 0, 0, 0.12) 0px 4px 6px,
        rgba(0, 0, 0, 0.17) 0px 12px 13px,
        rgba(0, 0, 0, 0.09) 0px -3px 5px;

    /* Subtle rim */
    outline: 1px solid rgba(255, 255, 255, 0.04);

    &__wrapper {
        position: relative;
    }

    &__bg {
        top: 50%;
        left: 50%;
        width: 100%;
        height: 100%;
        opacity: 0.4;
        filter: blur(4px);
        position: absolute;
        transform: translate(-50%, -50%);
        background: radial-gradient(
            circle,
            rgba(255, 255, 255, 0.1),
            rgba(255, 255, 255, 0.3)
        );
    }

    /* Vignette + soft edge darkening (makes it “orb-y”) */
    &__light {
        top: 50%;
        left: 50%;
        width: 250%;
        height: 250%;
        position: absolute;

        /* bigger than the orb so it spills outside */
        border-radius: 50%;

        /* radial halo — strongest near orb edge, fades out */
        background: #ffffff;
        background: radial-gradient(
            circle,
            transparent,
            rgba(255, 255, 255, 0.1),
            transparent,
            transparent
        );

        filter: blur(var(--glow-blur));
        transform: translateZ(0) translate(-50%, -50%); // avoids some blur jitter
        z-index: -1;
        pointer-events: none;
    }

    /* Top “glass highlight” */
    &::after {
        position: absolute;
        inset: 10px;
        border-radius: 50%;
        background: radial-gradient(
            circle at 50% 10%,
            rgba(255, 255, 255, 0.16) 0%,
            rgba(255, 255, 255, 0.06) 28%,
            rgba(255, 255, 255, 0) 55%
        );
        filter: blur(0.2px);
        pointer-events: none;
    }
}

.timer-orb__time {
    position: relative;
    z-index: 3;
    font-family:
        ui-sans-serif,
        system-ui,
        -apple-system,
        'Segoe UI',
        Roboto,
        Arial,
        sans-serif;
    font-weight: 300;
    font-size: 64px;
    letter-spacing: 2px;
    color: var(--text);
    text-shadow: 0 2px 10px rgba(0, 0, 0, 0.55);
}

.timer-orb__liquid {
    /* For later animation you’ll just change --fill-pct */
    --fill-pct: 28%;

    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    height: var(--fill-pct);
    z-index: 2;

    /* Bright “liquid” */
    background: linear-gradient(
        to bottom,
        var(--liquid-top) 0%,
        var(--liquid-mid) 55%,
        var(--liquid-bottom) 100%
    );

    /* Crisp separation line like in the screenshot */
    box-shadow:
        inset 0 1px 0 rgba(255, 255, 255, 0.55),
        0 -1px 0 rgba(0, 0, 0, 0.35);

    /* Slight blur sheen in the middle of the liquid */
    &::before {
        content: '';
        position: absolute;
        left: 10%;
        right: 10%;
        top: 18%;
        height: 70%;
        background: radial-gradient(
            circle at 50% 50%,
            rgba(255, 255, 255, 0.55) 0%,
            rgba(255, 255, 255, 0.18) 35%,
            rgba(255, 255, 255, 0) 70%
        );
        filter: blur(2px);
        opacity: 0.85;
        pointer-events: none;
    }
}

/* Optional: quick size presets */
.timer-orb.is-sm {
    --size: 220px;
}
.timer-orb.is-lg {
    --size: 360px;
}
